<dataConfig>
  <dataSource type="JdbcDataSource" driver="com.mysql.jdbc.Driver" url="jdbc:mysql://localhost/snomed" user="root"
    password="3wQY2BzD6889bqu7" />
  <document>
    <entity name="concept" query="select * from Concept">
      <field column="serialisedId" name="id" />
      <entity name="ontology" query="select id, name from Ontology where id='${concept.ontology_id}'" processor="CachedSqlEntityProcessor">
        <field column="serialisedId" name="id" />
      </entity>
      <field column="fullySpecifiedName" name="fullySpecifiedName" />
      <field column="effectiveTime" name="effectiveTime" />
      <entity name="active" query="select serialisedId from Concept where id='${concept.active_id}'" processor="CachedSqlEntityProcessor">
        <field column="serialisedId" name="id" />
      </entity>
      <entity name="status" query="select serialisedId from Concept where id='${concept.status_id}'" processor="CachedSqlEntityProcessor">
        <field column="serialisedId" name="id" />
      </entity>
      <entity name="module" query="select serialisedId from Concept where id='${concept.module_id}'" processor="CachedSqlEntityProcessor">
        <field column="serialisedId" name="id" />
      </entity>
      <entity name="description" query="select serialisedId, term from Description where about_id='${concept.id}'"
        processor="CachedSqlEntityProcessor">
        <field column="serialisedId" name="id" />
        <field column="term" name="term" />
      </entity>
      <entity name="objectOf" query="select serialisedId from Statement where subject_id='${concept.id}'"
        processor="CachedSqlEntityProcessor">
        <field column="serialisedId" name="id" />
      </entity>
      <entity name="attributeOf" query="select serialisedId from Statement where predicate_id='${concept.id}'"
        processor="CachedSqlEntityProcessor">
        <field column="serialisedId" name="id" />
      </entity>
      <entity name="valueOf" query="select serialisedId from Statement where object_id='${concept.id}'"
        processor="CachedSqlEntityProcessor">
        <field column="serialisedId" name="id" />
      </entity>
    </entity>
    <entity name="description" query="select * from Description">
      <field column="serialisedId" name="id" />
      <entity name="ontology" query="select id, name from Ontology where id='${description.ontology_id}'"
        processor="CachedSqlEntityProcessor">
        <field column="serialisedId" name="id" />
      </entity>
      <field column="term" name="term" />
      <field column="languageCode" name="languageCode" />
      <field column="effectiveTime" name="effectiveTime" />
      <entity name="about" query="select serialisedId from Concept where id='${description.about_id}'" processor="CachedSqlEntityProcessor">
        <field column="serialisedId" name="id" />
      </entity>
      <entity name="active" query="select serialisedId from Concept where id='${description.active_id}'"
        processor="CachedSqlEntityProcessor">
        <field column="serialisedId" name="id" />
      </entity>
      <entity name="type" query="select serialisedId from Concept where id='${description.type_id}'" processor="CachedSqlEntityProcessor">
        <field column="serialisedId" name="id" />
      </entity>
      <entity name="caseSignificance" query="select serialisedId from Concept where id='${description.caseSignificance_id}'">
        <field column="serialisedId" name="id" />
      </entity>
      <entity name="module" query="select serialisedId from Concept where id='${description.module_id}'"
        processor="CachedSqlEntityProcessor">
        <field column="serialisedId" name="id" />
      </entity>
    </entity>
    <entity name="triple" query="select * from Statement">
      <field column="serialisedId" name="id" />
      <field column="effectiveTime" name="effectiveTime" />
      <field column="groupId" name="groupId" />
      <field column="active" name="active" />
      <entity name="characteristicType" query="select serialisedId from Concept where id='${statement.characteristicType_id}'"
        processor="CachedSqlEntityProcessor">
        <field column="serialisedId" name="id" />
      </entity>
      <entity name="module" query="select serialisedId from Concept where id='${statement.module_id}'" processor="CachedSqlEntityProcessor">
        <field column="serialisedId" name="id" />
      </entity>
      <entity name="modifier" query="select serialisedId from Concept where id='${statement.modifier_id}'"
        processor="CachedSqlEntityProcessor">
        <field column="serialisedId" name="id" />
      </entity>
      <field column="fullySpecifiedName" name="fullySpecifiedName" />
      <entity name="object"
        query="select c.id, c.fullySpecifiedName from Concept c, Statement s where s.subject_id=c.id and s.id='${triple.id'"
        processor="CachedSqlEntityProcessor">
        <field column="id" name="id" />
        <field column="fullySpecifiedName" name="fullySpecifiedName" />
      </entity>
      <entity name="attribute"
        query="select c.id, c.fullySpecifiedName from Concept c, Statement s where s.predicate_id=c.id and s.id='${triple.id}'"
        processor="CachedSqlEntityProcessor">
        <field column="id" name="id" />
        <field column="fullySpecifiedName" name="fullySpecifiedName" />
      </entity>
      <entity name="value"
        query="select c.id, c.fullySpecifiedName from Concept c, Statement s where s.object_id=c.id and s.id='${triple.id}'"
        processor="CachedSqlEntityProcessor">
        <field column="id" name="id" />
        <field column="fullySpecifiedName" name="fullySpecifiedName" />
      </entity>
    </entity>
  </document>
</dataConfig>